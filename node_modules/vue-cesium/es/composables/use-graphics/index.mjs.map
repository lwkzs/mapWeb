{"version":3,"file":"index.mjs","sources":["../../../../../packages/composables/use-graphics/index.ts"],"sourcesContent":["/*\n * @Author: zouyaoji@https://github.com/zouyaoji\n * @Date: 2021-06-01 18:06:23\n * @LastEditTime: 2022-03-06 20:15:51\n * @LastEditors: zouyaoji\n * @Description:\n * @FilePath: \\vue-cesium@next\\packages\\composables\\use-graphics\\index.ts\n */\nimport type { EntityEmitType, VcComponentInternalInstance, VcGraphics } from '@vue-cesium/utils/types'\nimport useCommon from '../use-common'\nimport { kebabCase } from '@vue-cesium/utils/util'\nimport { getVcParentInstance } from '@vue-cesium/utils/private/vm'\nimport type { VcEntityRef } from '@vue-cesium/components'\n\nexport default function (props, ctx, vcInstance: VcComponentInternalInstance) {\n  // state\n  vcInstance.cesiumEvents = ['definitionChanged']\n  const commonState = useCommon(props, ctx, vcInstance)\n\n  if (commonState === void 0) {\n    return\n  }\n  // methods\n  vcInstance.mount = async () => {\n    const graphics = vcInstance.cesiumObject as VcGraphics\n\n    if (graphics === undefined) {\n      return false\n    }\n\n    const cmpNameArr = kebabCase(vcInstance.proxy?.$options.name || '').split('-')\n    const emitType = (cmpNameArr.length === 3 ? `update:${cmpNameArr[2]}` : 'update:polylineVolume') as EntityEmitType\n    const parentVM = getVcParentInstance(vcInstance).proxy as VcEntityRef\n    return parentVM && parentVM.__updateGraphics?.(graphics, emitType)\n  }\n  vcInstance.unmount = async () => {\n    const cmpNameArr = kebabCase(vcInstance.proxy?.$options.name || '').split('-')\n    const emitType = (cmpNameArr.length === 3 ? `update:${cmpNameArr[2]}` : 'update:polylineVolume') as EntityEmitType\n    const parentVM = getVcParentInstance(vcInstance).proxy as VcEntityRef\n    return parentVM && parentVM.__updateGraphics?.(undefined, emitType)\n  }\n}\n"],"names":[],"mappings":";;;;;AAcyB,oBAAA,CAAA,KAAA,EAAO,KAAK,UAAyC,EAAA;AAE5E,EAAW,UAAA,CAAA,YAAA,GAAe,CAAC,mBAAmB,CAAA,CAAA;AAC9C,EAAA,MAAM,WAAc,GAAA,SAAA,CAAU,KAAO,EAAA,GAAA,EAAK,UAAU,CAAA,CAAA;AAEpD,EAAA,IAAI,gBAAgB,KAAQ,CAAA,EAAA;AAC1B,IAAA,OAAA;AAAA,GACF;AAEA,EAAA,UAAA,CAAW,QAAQ,YAAY;AAvBjC,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAwBI,IAAA,MAAM,WAAW,UAAW,CAAA,YAAA,CAAA;AAE5B,IAAA,IAAI,aAAa,KAAW,CAAA,EAAA;AAC1B,MAAO,OAAA,KAAA,CAAA;AAAA,KACT;AAEA,IAAM,MAAA,UAAA,GAAa,SAAU,CAAA,CAAA,CAAA,EAAA,GAAA,UAAA,CAAW,KAAX,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAkB,SAAS,IAAQ,KAAA,EAAE,CAAE,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAC7E,IAAM,MAAA,QAAA,GAAY,WAAW,MAAW,KAAA,CAAA,GAAI,UAAU,UAAW,CAAA,CAAC,CAAC,CAAK,CAAA,GAAA,uBAAA,CAAA;AACxE,IAAM,MAAA,QAAA,GAAW,mBAAoB,CAAA,UAAU,CAAE,CAAA,KAAA,CAAA;AACjD,IAAA,OAAO,QAAY,KAAA,CAAA,EAAA,GAAA,QAAA,CAAS,gBAAT,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,QAAA,EAA4B,QAAU,EAAA,QAAA,CAAA,CAAA,CAAA;AAAA,GAC3D,CAAA;AACA,EAAA,UAAA,CAAW,UAAU,YAAY;AAnCnC,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAoCI,IAAM,MAAA,UAAA,GAAa,SAAU,CAAA,CAAA,CAAA,EAAA,GAAA,UAAA,CAAW,KAAX,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAkB,SAAS,IAAQ,KAAA,EAAE,CAAE,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAC7E,IAAM,MAAA,QAAA,GAAY,WAAW,MAAW,KAAA,CAAA,GAAI,UAAU,UAAW,CAAA,CAAC,CAAC,CAAK,CAAA,GAAA,uBAAA,CAAA;AACxE,IAAM,MAAA,QAAA,GAAW,mBAAoB,CAAA,UAAU,CAAE,CAAA,KAAA,CAAA;AACjD,IAAA,OAAO,QAAY,KAAA,CAAA,EAAA,GAAA,QAAA,CAAS,gBAAT,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,QAAA,EAA4B,KAAW,CAAA,EAAA,QAAA,CAAA,CAAA,CAAA;AAAA,GAC5D,CAAA;AACF;;;;"}