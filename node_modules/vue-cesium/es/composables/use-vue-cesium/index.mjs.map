{"version":3,"file":"index.mjs","sources":["../../../../../packages/composables/use-vue-cesium/index.ts"],"sourcesContent":["/*\n * @Author: zouyaoji@https://github.com/zouyaoji\n * @Date: 2021-04-06 09:21:02\n * @LastEditTime: 2022-10-20 01:49:37\n * @LastEditors: zouyaoji\n * @Description:\n * @FilePath: \\vue-cesium@next\\packages\\composables\\use-vue-cesium\\index.ts\n */\nimport { getCurrentInstance, inject } from 'vue'\nimport { VcViewerProvider } from '@vue-cesium/utils/types'\nimport useLog from '@vue-cesium/composables/private/use-log'\nimport { vcKey } from '@vue-cesium/utils/config'\n\nexport default function useVueCesium(containerId?: string): VcViewerProvider {\n  const instance = getCurrentInstance()\n  const provides = instance?.parent === null ? instance.vnode.appContext && instance.vnode.appContext.provides : (instance?.parent as any)?.provides\n  if ((!provides || !(vcKey in provides)) && !containerId) {\n    containerId = 'cesiumContainer'\n  }\n  const logger = useLog()\n  if (instance) {\n    if (containerId) {\n      const $vc = instance.appContext.config.globalProperties?.$VueCesium?.[containerId]\n      if (!$vc) {\n        logger.warn(`Failed to get $vc, reason: vc-viewer with containerId: ${containerId} was not found.`)\n      }\n      return $vc\n    } else {\n      return inject<VcViewerProvider>(vcKey)\n    }\n  } else {\n    logger.warn('VueCesium useVueCesium() can only be used inside setup().')\n  }\n}\n"],"names":[],"mappings":";;;;;AAaA,SAAwB,aAAa,WAAwC,EAAA;AAb7E,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAcE,EAAA,MAAM,WAAW,kBAAmB,EAAA,CAAA;AACpC,EAAA,MAAM,QAAW,GAAA,CAAA,QAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,QAAA,CAAU,MAAW,MAAA,IAAA,GAAO,QAAS,CAAA,KAAA,CAAM,UAAc,IAAA,QAAA,CAAS,KAAM,CAAA,UAAA,CAAW,QAAY,GAAA,CAAA,EAAA,GAAA,QAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,QAAA,CAAU,WAAV,IAA0B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,QAAA,CAAA;AAC1I,EAAA,IAAA,CAAK,CAAC,QAAY,IAAA,EAAE,KAAS,IAAA,QAAA,CAAA,KAAc,CAAC,WAAa,EAAA;AACvD,IAAc,WAAA,GAAA,iBAAA,CAAA;AAAA,GAChB;AACA,EAAA,MAAM,SAAS,MAAO,EAAA,CAAA;AACtB,EAAA,IAAI,QAAU,EAAA;AACZ,IAAA,IAAI,WAAa,EAAA;AACf,MAAA,MAAM,OAAM,EAAS,GAAA,CAAA,EAAA,GAAA,QAAA,CAAA,UAAA,CAAW,OAAO,gBAA3B,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAA6C,eAA7C,IAA0D,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,WAAA,CAAA,CAAA;AACtE,MAAA,IAAI,CAAC,GAAK,EAAA;AACR,QAAO,MAAA,CAAA,IAAA,CAAK,CAA0D,uDAAA,EAAA,WAAW,CAAiB,eAAA,CAAA,CAAA,CAAA;AAAA,OACpG;AACA,MAAO,OAAA,GAAA,CAAA;AAAA,KACF,MAAA;AACL,MAAA,OAAO,OAAyB,KAAK,CAAA,CAAA;AAAA,KACvC;AAAA,GACK,MAAA;AACL,IAAA,MAAA,CAAO,KAAK,2DAA2D,CAAA,CAAA;AAAA,GACzE;AACF;;;;"}