{"version":3,"file":"index.mjs","sources":["../../../../packages/locale/index.ts"],"sourcesContent":["/*\n * @Author: zouyaoji@https://github.com/zouyaoji\n * @Date: 2021-10-27 15:54:11\n * @LastEditTime: 2022-02-10 10:52:35\n * @LastEditors: zouyaoji\n * @Description:\n * @FilePath: \\vue-cesium@next\\packages\\locale\\index.ts\n */\nimport defaultLang from './lang/zh-hans'\n\nexport type TranslatePair = {\n  [key: string]: string | string[] | TranslatePair\n}\n\nexport type Language = {\n  name: string\n  nativeName: string\n  vc: TranslatePair\n}\n\nlet lang: Language = defaultLang as Language\n\nfunction template(str: string, option) {\n  if (!str || !option) return str\n\n  return str.replace(/\\{(\\w+)\\}/g, (match, key) => {\n    return option[key]\n  })\n}\n\nconst defaultTranslator = (...args: any[]) => {\n  const [path, option] = args\n  let value\n  const array = path.split('.')\n  let current = lang\n  for (let i = 0, j = array.length; i < j; i++) {\n    const property = array[i]\n    value = current[property]\n    if (i === j - 1) return template(value, option)\n    if (!value) return ''\n    current = value\n  }\n  return template(value, option)\n}\n\nexport const t = (...args: any[]): string => {\n  return defaultTranslator(...args)\n}\n\nexport const use = (l: Language): void => {\n  lang = l || lang\n  if (lang.name) {\n    // dayjs.locale(lang.name)\n  }\n}\n\nexport const setLocale = use\n"],"names":[],"mappings":";;AAoBA,IAAI,IAAiB,GAAA,WAAA,CAAA;AAErB,SAAS,QAAA,CAAS,KAAa,MAAQ,EAAA;AACrC,EAAI,IAAA,CAAC,OAAO,CAAC,MAAA;AAAQ,IAAO,OAAA,GAAA,CAAA;AAE5B,EAAA,OAAO,GAAI,CAAA,OAAA,CAAQ,YAAc,EAAA,CAAC,OAAO,GAAQ,KAAA;AAC/C,IAAA,OAAO,OAAO,GAAG,CAAA,CAAA;AAAA,GAClB,CAAA,CAAA;AACH,CAAA;AAEA,MAAM,iBAAA,GAAoB,IAAI,IAAgB,KAAA;AAC5C,EAAM,MAAA,CAAC,IAAM,EAAA,MAAM,CAAI,GAAA,IAAA,CAAA;AACvB,EAAI,IAAA,KAAA,CAAA;AACJ,EAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAC5B,EAAA,IAAI,OAAU,GAAA,IAAA,CAAA;AACd,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAM,MAAQ,EAAA,CAAA,GAAI,GAAG,CAAK,EAAA,EAAA;AAC5C,IAAM,MAAA,QAAA,GAAW,MAAM,CAAC,CAAA,CAAA;AACxB,IAAA,KAAA,GAAQ,QAAQ,QAAQ,CAAA,CAAA;AACxB,IAAA,IAAI,MAAM,CAAI,GAAA,CAAA;AAAG,MAAO,OAAA,QAAA,CAAS,OAAO,MAAM,CAAA,CAAA;AAC9C,IAAA,IAAI,CAAC,KAAA;AAAO,MAAO,OAAA,EAAA,CAAA;AACnB,IAAU,OAAA,GAAA,KAAA,CAAA;AAAA,GACZ;AACA,EAAO,OAAA,QAAA,CAAS,OAAO,MAAM,CAAA,CAAA;AAC/B,CAAA,CAAA;AAEa,MAAA,CAAA,GAAI,IAAI,IAAwB,KAAA;AAC3C,EAAO,OAAA,iBAAA,CAAkB,GAAG,IAAI,CAAA,CAAA;AAClC,EAAA;AAEa,MAAA,GAAA,GAAM,CAAC,CAAsB,KAAA;AACxC,EAAA,IAAA,GAAO,CAAK,IAAA,IAAA,CAAA;AACZ,EAAA,IAAI,KAAK,IAAM,EAAA;AAAA,GAEf;AACF,EAAA;AAEO,MAAM,SAAY,GAAA;;;;"}