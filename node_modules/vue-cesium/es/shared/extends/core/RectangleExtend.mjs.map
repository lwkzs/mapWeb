{"version":3,"file":"RectangleExtend.mjs","sources":["../../../../../../packages/shared/extends/core/RectangleExtend.ts"],"sourcesContent":["/*\n * @Author: zouyaoji@https://github.com/zouyaoji\n * @Date: 2022-04-15 14:46:58\n * @LastEditTime: 2022-05-13 09:47:41\n * @LastEditors: zouyaoji\n * @Description:\n * @FilePath: \\vue-cesium@next\\packages\\shared\\extends\\core\\RectangleExtend.ts\n */\n\nlet isExtended = false\nexport default class RectangleExtend {\n  static extend(viewer?: Cesium.Viewer) {\n    if (isExtended) {\n      return\n    }\n    const { Rectangle } = Cesium\n\n    Rectangle.prototype.expand = function (widthFactor, heightFactor, result) {\n      result = result && result instanceof Rectangle ? result : this.clone()\n      widthFactor = (result.width * (1 - widthFactor)) / 2\n      heightFactor = (result.height * (1 - heightFactor)) / 2\n\n      result.west += widthFactor\n      result.south += heightFactor\n      result.east -= widthFactor\n      result.north -= heightFactor\n      result.west = result.west < -Math.PI ? -Math.PI : result.west\n      result.east = result.east > Math.PI ? Math.PI : result.east\n      result.north = result.north > Math.PI / 2 ? Math.PI / 2 : result.north\n      result.south = result.south < -Math.PI / 2 ? -Math.PI / 2 : result.south\n\n      return result\n    }\n\n    isExtended = true\n  }\n\n  static revoke(viewer?: Cesium.Viewer) {\n    if (!isExtended) {\n      return\n    }\n\n    const { Rectangle } = Cesium\n    Rectangle.prototype.expand = undefined\n\n    isExtended = false\n  }\n}\n"],"names":[],"mappings":";AASA,IAAI,UAAa,GAAA,KAAA,CAAA;AACjB,MAAqB,eAAgB,CAAA;AAAA,EACnC,OAAO,OAAO,MAAwB,EAAA;AACpC,IAAA,IAAI,UAAY,EAAA;AACd,MAAA,OAAA;AAAA,KACF;AACA,IAAM,MAAA,EAAE,WAAc,GAAA,MAAA,CAAA;AAEtB,IAAA,SAAA,CAAU,SAAU,CAAA,MAAA,GAAS,SAAU,WAAA,EAAa,cAAc,MAAQ,EAAA;AACxE,MAAA,MAAA,GAAS,MAAU,IAAA,MAAA,YAAkB,SAAY,GAAA,MAAA,GAAS,KAAK,KAAM,EAAA,CAAA;AACrE,MAAe,WAAA,GAAA,MAAA,CAAO,KAAS,IAAA,CAAA,GAAI,WAAgB,CAAA,GAAA,CAAA,CAAA;AACnD,MAAgB,YAAA,GAAA,MAAA,CAAO,MAAU,IAAA,CAAA,GAAI,YAAiB,CAAA,GAAA,CAAA,CAAA;AAEtD,MAAA,MAAA,CAAO,IAAQ,IAAA,WAAA,CAAA;AACf,MAAA,MAAA,CAAO,KAAS,IAAA,YAAA,CAAA;AAChB,MAAA,MAAA,CAAO,IAAQ,IAAA,WAAA,CAAA;AACf,MAAA,MAAA,CAAO,KAAS,IAAA,YAAA,CAAA;AAChB,MAAO,MAAA,CAAA,IAAA,GAAO,OAAO,IAAO,GAAA,CAAC,KAAK,EAAK,GAAA,CAAC,IAAK,CAAA,EAAA,GAAK,MAAO,CAAA,IAAA,CAAA;AACzD,MAAA,MAAA,CAAO,OAAO,MAAO,CAAA,IAAA,GAAO,KAAK,EAAK,GAAA,IAAA,CAAK,KAAK,MAAO,CAAA,IAAA,CAAA;AACvD,MAAO,MAAA,CAAA,KAAA,GAAQ,OAAO,KAAQ,GAAA,IAAA,CAAK,KAAK,CAAI,GAAA,IAAA,CAAK,EAAK,GAAA,CAAA,GAAI,MAAO,CAAA,KAAA,CAAA;AACjE,MAAO,MAAA,CAAA,KAAA,GAAQ,MAAO,CAAA,KAAA,GAAQ,CAAC,IAAA,CAAK,EAAK,GAAA,CAAA,GAAI,CAAC,IAAA,CAAK,EAAK,GAAA,CAAA,GAAI,MAAO,CAAA,KAAA,CAAA;AAEnE,MAAO,OAAA,MAAA,CAAA;AAAA,KACT,CAAA;AAEA,IAAa,UAAA,GAAA,IAAA,CAAA;AAAA,GACf;AAAA,EAEA,OAAO,OAAO,MAAwB,EAAA;AACpC,IAAA,IAAI,CAAC,UAAY,EAAA;AACf,MAAA,OAAA;AAAA,KACF;AAEA,IAAM,MAAA,EAAE,WAAc,GAAA,MAAA,CAAA;AACtB,IAAA,SAAA,CAAU,UAAU,MAAS,GAAA,KAAA,CAAA,CAAA;AAE7B,IAAa,UAAA,GAAA,KAAA,CAAA;AAAA,GACf;AACF;;;;"}