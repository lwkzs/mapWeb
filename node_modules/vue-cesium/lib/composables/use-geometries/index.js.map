{"version":3,"file":"index.js","sources":["../../../../../packages/composables/use-geometries/index.ts"],"sourcesContent":["/*\n * @Author: zouyaoji@https://github.com/zouyaoji\n * @Date: 2021-06-01 18:06:23\n * @LastEditTime: 2022-03-11 09:55:22\n * @LastEditors: zouyaoji\n * @Description:\n * @FilePath: \\vue-cesium@next\\packages\\composables\\use-geometries\\index.ts\n */\nimport { VcComponentInternalInstance } from '@vue-cesium/utils/types'\nimport useCommon from '../use-common'\nimport { getVcParentInstance } from '@vue-cesium/utils/private/vm'\nimport { VcGeometryInstanceRef } from '@vue-cesium/components'\n\nexport default function (props, ctx, vcInstance: VcComponentInternalInstance) {\n  // state\n  vcInstance.cesiumEvents = []\n  vcInstance.renderByParent = true\n  const commonState = useCommon(props, ctx, vcInstance)\n\n  if (commonState === void 0) {\n    return\n  }\n\n  // methods\n  vcInstance.mount = async () => {\n    const geometry = vcInstance.cesiumObject as Cesium.Geometry\n    const parentVM = getVcParentInstance(vcInstance).proxy as VcGeometryInstanceRef\n    return parentVM.__updateGeometry?.(geometry)\n  }\n\n  return {\n    transformProps: commonState.transformProps,\n    unwatchFns: commonState.unwatchFns,\n    setPropsWatcher: commonState.setPropsWatcher\n  }\n}\n"],"names":["useCommon","getVcParentInstance"],"mappings":";;;;;;;;AAayB,sBAAA,CAAA,KAAA,EAAO,KAAK,UAAyC,EAAA;AAE5E,EAAA,UAAA,CAAW,eAAe,EAAC,CAAA;AAC3B,EAAA,UAAA,CAAW,cAAiB,GAAA,IAAA,CAAA;AAC5B,EAAA,MAAM,WAAc,GAAAA,gBAAA,CAAU,KAAO,EAAA,GAAA,EAAK,UAAU,CAAA,CAAA;AAEpD,EAAA,IAAI,gBAAgB,KAAQ,CAAA,EAAA;AAC1B,IAAA,OAAA;AAAA,GACF;AAGA,EAAA,UAAA,CAAW,QAAQ,YAAY;AAxBjC,IAAA,IAAA,EAAA,CAAA;AAyBI,IAAA,MAAM,WAAW,UAAW,CAAA,YAAA,CAAA;AAC5B,IAAM,MAAA,QAAA,GAAWC,sBAAoB,CAAA,UAAU,CAAE,CAAA,KAAA,CAAA;AACjD,IAAO,OAAA,CAAA,EAAA,GAAA,QAAA,CAAS,qBAAT,IAA4B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,QAAA,EAAA,QAAA,CAAA,CAAA;AAAA,GACrC,CAAA;AAEA,EAAO,OAAA;AAAA,IACL,gBAAgB,WAAY,CAAA,cAAA;AAAA,IAC5B,YAAY,WAAY,CAAA,UAAA;AAAA,IACxB,iBAAiB,WAAY,CAAA,eAAA;AAAA,GAC/B,CAAA;AACF;;;;"}