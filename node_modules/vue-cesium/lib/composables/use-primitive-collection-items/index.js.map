{"version":3,"file":"index.js","sources":["../../../../../packages/composables/use-primitive-collection-items/index.ts"],"sourcesContent":["/*\n * @Author: zouyaoji@https://github.com/zouyaoji\n * @Date: 2021-09-07 23:36:43\n * @LastEditTime: 2021-11-20 16:06:29\n * @LastEditors: zouyaoji\n * @Description:\n * @FilePath: \\vue-cesium@next\\packages\\composables\\use-primitive-collection-items\\index.ts\n */\n/**\n * for\n * Billboard\n * Label\n * PointPrimitive\n * Polyline\n */\n\nimport { VcComponentInternalInstance } from '@vue-cesium/utils/types'\nimport useCommon from '../use-common'\n\nexport type CollectionItem = Cesium.Billboard | Cesium.Label | Cesium.PointPrimitive | Cesium.Polyline\n\nexport default function (props, ctx, vcInstance: VcComponentInternalInstance) {\n  // state\n  const commonState = useCommon(props, ctx, vcInstance)\n  if (commonState === void 0) {\n    return\n  }\n  // methods\n  vcInstance.createCesiumObject = async () => {\n    const options = commonState.transformProps(props)\n    const primitives = commonState.$services.primitives\n    return primitives && primitives.add(options)\n  }\n\n  vcInstance.mount = async () => {\n    const primitives = commonState.$services.primitives\n    const collectionItem = vcInstance.cesiumObject as CollectionItem\n    return primitives && primitives.contains(collectionItem)\n  }\n  vcInstance.unmount = async () => {\n    const primitives = commonState.$services.primitives\n    const collectionItem = vcInstance.cesiumObject as CollectionItem\n    return primitives && !primitives.isDestroyed() && primitives.remove(collectionItem)\n  }\n\n  return {\n    transformProps: commonState.transformProps,\n    unwatchFns: commonState.unwatchFns,\n    setPropsWatcher: commonState.setPropsWatcher,\n    $services: commonState.$services\n  }\n}\n"],"names":["useCommon"],"mappings":";;;;;;;AAqByB,oCAAA,CAAA,KAAA,EAAO,KAAK,UAAyC,EAAA;AAE5E,EAAA,MAAM,WAAc,GAAAA,gBAAA,CAAU,KAAO,EAAA,GAAA,EAAK,UAAU,CAAA,CAAA;AACpD,EAAA,IAAI,gBAAgB,KAAQ,CAAA,EAAA;AAC1B,IAAA,OAAA;AAAA,GACF;AAEA,EAAA,UAAA,CAAW,qBAAqB,YAAY;AAC1C,IAAM,MAAA,OAAA,GAAU,WAAY,CAAA,cAAA,CAAe,KAAK,CAAA,CAAA;AAChD,IAAM,MAAA,UAAA,GAAa,YAAY,SAAU,CAAA,UAAA,CAAA;AACzC,IAAO,OAAA,UAAA,IAAc,UAAW,CAAA,GAAA,CAAI,OAAO,CAAA,CAAA;AAAA,GAC7C,CAAA;AAEA,EAAA,UAAA,CAAW,QAAQ,YAAY;AAC7B,IAAM,MAAA,UAAA,GAAa,YAAY,SAAU,CAAA,UAAA,CAAA;AACzC,IAAA,MAAM,iBAAiB,UAAW,CAAA,YAAA,CAAA;AAClC,IAAO,OAAA,UAAA,IAAc,UAAW,CAAA,QAAA,CAAS,cAAc,CAAA,CAAA;AAAA,GACzD,CAAA;AACA,EAAA,UAAA,CAAW,UAAU,YAAY;AAC/B,IAAM,MAAA,UAAA,GAAa,YAAY,SAAU,CAAA,UAAA,CAAA;AACzC,IAAA,MAAM,iBAAiB,UAAW,CAAA,YAAA,CAAA;AAClC,IAAA,OAAO,cAAc,CAAC,UAAA,CAAW,aAAiB,IAAA,UAAA,CAAW,OAAO,cAAc,CAAA,CAAA;AAAA,GACpF,CAAA;AAEA,EAAO,OAAA;AAAA,IACL,gBAAgB,WAAY,CAAA,cAAA;AAAA,IAC5B,YAAY,WAAY,CAAA,UAAA;AAAA,IACxB,iBAAiB,WAAY,CAAA,eAAA;AAAA,IAC7B,WAAW,WAAY,CAAA,SAAA;AAAA,GACzB,CAAA;AACF;;;;"}