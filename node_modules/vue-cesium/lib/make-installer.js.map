{"version":3,"file":"make-installer.js","sources":["../../../packages/vue-cesium/make-installer.ts"],"sourcesContent":["/*\n * @Author: zouyaoji@https://github.com/zouyaoji\n * @Date: 2021-09-16 09:28:13\n * @LastEditTime: 2022-08-03 14:00:58\n * @LastEditors: zouyaoji\n * @Description:\n * @FilePath: \\vue-cesium@next\\packages\\vue-cesium\\make-installer.ts\n */\n\nimport { version } from './version'\nimport type { App, Plugin } from 'vue'\nimport type { ConfigProviderContext } from '@vue-cesium/utils/config'\nimport { provideGlobalConfig } from '@vue-cesium/composables/use-global-config'\nimport useLog from '@vue-cesium/composables/private/use-log'\nconst logger = useLog(undefined)\n\nconst INSTALLED_KEY = Symbol('INSTALLED_KEY')\n\nconst makeInstaller = (components: Plugin[] = []) => {\n  const install = (app: App, opts?: ConfigProviderContext) => {\n    if (app[INSTALLED_KEY]) return\n\n    const defaultConfig: ConfigProviderContext = {\n      cesiumPath: 'https://unpkg.com/cesium@latest/Build/Cesium/Cesium.js',\n      accessToken:\n        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI2OGE2MjZlOC1mMzhiLTRkZjQtOWEwZi1jZTE0MWY0YzhlMTAiLCJpZCI6MjU5LCJpYXQiOjE2NDM3MjU1NzZ9.ptZ5tVXvMmuWRC0WhjtYTg-17nQh14fgxBsx0HJiVXQ'\n    }\n\n    app[INSTALLED_KEY] = true\n\n    const options = Object.assign(defaultConfig, opts)\n\n    components.forEach(c => {\n      app.use(c, options)\n    })\n\n    provideGlobalConfig(options, app, true)\n\n    if (process.env.NODE_ENV === 'development') {\n      logger.capsule('VueCesium', `v${version}`)\n      logger.success('VueCesium  https://github.com/zouyaoji/vue-cesium')\n      logger.success('Document  https://zouyaoji.top/vue-cesium')\n      logger.success(`If you like it, give it a star reward, ^_^`)\n      logger.success(`表示赞，给它一个星星奖励，^_^`)\n    }\n  }\n\n  return {\n    version,\n    install\n  }\n}\n\nexport default makeInstaller\n"],"names":["useLog","provideGlobalConfig","version"],"mappings":";;;;;;;;;AAcA,MAAM,MAAA,GAASA,kBAAO,KAAS,CAAA,CAAA,CAAA;AAE/B,MAAM,aAAA,GAAgB,OAAO,eAAe,CAAA,CAAA;AAE5C,MAAM,aAAgB,GAAA,CAAC,UAAuB,GAAA,EAAO,KAAA;AACnD,EAAM,MAAA,OAAA,GAAU,CAAC,GAAA,EAAU,IAAiC,KAAA;AAC1D,IAAA,IAAI,IAAI,aAAa,CAAA;AAAG,MAAA,OAAA;AAExB,IAAA,MAAM,aAAuC,GAAA;AAAA,MAC3C,UAAY,EAAA,wDAAA;AAAA,MACZ,WACE,EAAA,mLAAA;AAAA,KACJ,CAAA;AAEA,IAAA,GAAA,CAAI,aAAa,CAAI,GAAA,IAAA,CAAA;AAErB,IAAA,MAAM,OAAU,GAAA,MAAA,CAAO,MAAO,CAAA,aAAA,EAAe,IAAI,CAAA,CAAA;AAEjD,IAAA,UAAA,CAAW,QAAQ,CAAK,CAAA,KAAA;AACtB,MAAI,GAAA,CAAA,GAAA,CAAI,GAAG,OAAO,CAAA,CAAA;AAAA,KACnB,CAAA,CAAA;AAED,IAAoBC,yBAAA,CAAA,OAAA,EAAS,KAAK,IAAI,CAAA,CAAA;AAEtC,IAAI,IAAA,OAAA,CAAQ,GAAI,CAAA,QAAA,KAAa,aAAe,EAAA;AAC1C,MAAA,MAAA,CAAO,OAAQ,CAAA,WAAA,EAAa,CAAI,CAAA,EAAAC,eAAO,CAAE,CAAA,CAAA,CAAA;AACzC,MAAA,MAAA,CAAO,QAAQ,mDAAmD,CAAA,CAAA;AAClE,MAAA,MAAA,CAAO,QAAQ,2CAA2C,CAAA,CAAA;AAC1D,MAAA,MAAA,CAAO,QAAQ,CAA4C,0CAAA,CAAA,CAAA,CAAA;AAC3D,MAAA,MAAA,CAAO,QAAQ,CAAkB,iFAAA,CAAA,CAAA,CAAA;AAAA,KACnC;AAAA,GACF,CAAA;AAEA,EAAO,OAAA;AAAA,aACLA,eAAA;AAAA,IACA,OAAA;AAAA,GACF,CAAA;AACF;;;;"}