{"version":3,"file":"VcCircleWaveMaterialProperty.js","sources":["../../../../../../packages/shared/extends/materials/VcCircleWaveMaterialProperty.ts"],"sourcesContent":["import VcBaseMaterialProperty from './VcBaseMaterialProperty'\n\n/*\n * @Author: zouyaoji@https://github.com/zouyaoji\n * @Date: 2023-05-23 13:14:12\n * @Description: Do not edit\n * @LastEditors: zouyaoji 370681295@qq.com\n * @LastEditTime: 2023-08-18 01:11:19\n * @FilePath: \\vue-cesium\\packages\\shared\\extends\\materials\\VcCircleWaveMaterialProperty.ts\n */\nexport default class VcCircleWaveMaterialProperty extends VcBaseMaterialProperty {\n  _definitionChanged: Cesium.Event<(...args: any[]) => void>\n  _color: Cesium.ConstantProperty\n  _duration: number\n  _count: number\n  _gradient: number\n  _time: number\n  constructor(options) {\n    super(options)\n    const { Event, defaultValue } = Cesium\n\n    if (!Object.getOwnPropertyDescriptor(VcCircleWaveMaterialProperty.prototype, 'color')) {\n      Object.defineProperties(VcCircleWaveMaterialProperty.prototype, {\n        color: Cesium['createPropertyDescriptor']('color')\n      })\n    }\n\n    this._definitionChanged = new Event()\n    this._color = new Cesium.ConstantProperty(options.color)\n    this._duration = defaultValue(options.duration, 1000)\n    this.count = defaultValue(options.count, 2)\n    if (this.count <= 0) {\n      this.count = 1\n    }\n    this._gradient = defaultValue(options.gradient, 0.1)\n    if (this._gradient === 0) {\n      this._gradient = 0\n    }\n    if (this._gradient > 1) {\n      this._gradient = 1\n    }\n    this._time = new Date().getTime()\n  }\n\n  get isConstant() {\n    return false\n  }\n\n  get definitionChanged() {\n    return this._definitionChanged\n  }\n\n  get color() {\n    return this._color\n  }\n\n  set color(value) {\n    const oldValue = this._color\n\n    if (oldValue !== value) {\n      this._color = new Cesium.ConstantProperty(value as any)\n      this._definitionChanged.raiseEvent(this, 'color', value, oldValue)\n    }\n  }\n\n  get duration() {\n    return this._duration\n  }\n\n  set duration(value) {\n    const oldValue = this._duration\n\n    if (oldValue !== value) {\n      this._duration = value\n      this._definitionChanged.raiseEvent(this, 'duration', value, oldValue)\n    }\n  }\n\n  get count() {\n    return this._count\n  }\n\n  set count(value) {\n    const oldValue = this._count\n\n    if (oldValue !== value) {\n      this._count = value\n      this._definitionChanged.raiseEvent(this, 'count', value, oldValue)\n    }\n  }\n\n  getType() {\n    return 'VcCircleWave'\n  }\n\n  getValue(time, result) {\n    if (!Cesium.defined(result)) {\n      result = {}\n    }\n    result.color = Cesium.Property['getValueOrClonedDefault'](this._color, time, Cesium.Color.YELLOW, result.color)\n    result.time = ((new Date().getTime() - this._time) % this.duration) / this.duration\n    result.count = this.count\n    result.gradient = 1 + 10 * (1 - this._gradient)\n    return result\n  }\n\n  equals(other) {\n    const reData = this === other || (other instanceof VcCircleWaveMaterialProperty && Cesium.Property['equals'](this._color, other._color))\n    return reData\n  }\n}\n"],"names":["VcBaseMaterialProperty"],"mappings":"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"}