{"version":3,"file":"VcLineFlowMaterialProperty.js","sources":["../../../../../../packages/shared/extends/materials/VcLineFlowMaterialProperty.ts"],"sourcesContent":["/*\n * @Author: zouyaoji@https://github.com/zouyaoji\n * @Date: 2023-08-17 23:55:24\n * @Description: Do not edit\n * @LastEditors: zouyaoji 370681295@qq.com\n * @LastEditTime: 2023-08-18 20:42:09\n * @FilePath: \\vue-cesium\\packages\\shared\\extends\\materials\\VcLineFlowMaterialProperty.ts\n */\nimport { getCesiumColor, getCesiumValue } from '@vue-cesium/utils/util'\nimport VcBaseMaterialProperty from './VcBaseMaterialProperty'\n\nexport default class VcLineFlowMaterialProperty extends VcBaseMaterialProperty {\n  image: string\n  color: Cesium.Color\n  axisY: boolean\n  mixt: boolean\n  speed: number\n  duration: number\n  repeat: Cesium.Cartesian2\n  image2: string\n  color2: Cesium.Color\n  hasImage2: boolean\n  globalAlpha: boolean\n  _time: number\n  constructor(options: any = {}) {\n    super(options)\n    const { Color, Cartesian2, defined } = Cesium\n    this.image = options.image ?? options.url\n    this.color = options.color ?? new Color(1, 1, 1, 0)\n    this.axisY = options.axisY ?? false\n    this.mixt = options.mixt ?? false\n    this.speed = options.speed ?? 10\n    this.duration = options.duration\n    this.repeat = options.repeat ?? new Cartesian2(1, 1)\n    this.image2 = options.image2 ?? options.bgUrl\n    this.color2 = options.color2 ?? options.bgColor ?? new Color(1, 1, 1, 0)\n    this.hasImage2 = defined(this.image2)\n    this.globalAlpha = options.globalAlpha ?? true\n  }\n\n  getType(value) {\n    return 'VcLineFlow'\n  }\n\n  getValue(time: Cesium.JulianDate, result?): VcLineFlowMaterialProperty {\n    const { Color, Cartesian2, defined } = Cesium\n    !defined(result) && (result = {})\n    result.image = this.image\n    result.color = getCesiumColor(this.color, new Color(1, 1, 1, 0), time)\n    result.repeat = getCesiumValue(this.repeat, Cartesian2, time)\n    result.axisY = this.axisY\n    result.mixt = this.mixt\n    result.speed = getCesiumValue(this.speed, Number, time)\n    if (this.duration) {\n      if (this._time === undefined) {\n        this._time = new Date().getTime()\n        result.time = (new Date().getTime() - this._time) / (this.duration * 1000)\n      }\n    } else {\n      result.time = -1\n    }\n\n    result.hasImage2 = this.hasImage2\n    result.image2 = this.image2\n    result.color2 = getCesiumColor(this.color2, new Color(1, 1, 1, 0), time)\n    result.globalAlpha = this.globalAlpha\n\n    return result as VcLineFlowMaterialProperty\n  }\n\n  equals(other: VcLineFlowMaterialProperty) {\n    const reData =\n      this === other ||\n      (other instanceof VcLineFlowMaterialProperty &&\n        Cesium.Property['equals'](this.color, other.color) &&\n        Cesium.Property['equals'](this.repeat, other.repeat) &&\n        this.image === other.image &&\n        this.axisY === other.axisY &&\n        this.speed === other.speed &&\n        this.hasImage2 === other.hasImage2 &&\n        this.image2 === other.image2 &&\n        this.image2 === other.image2 &&\n        Cesium.Property['equals'](this.color2, other.color2))\n    return reData\n  }\n}\n"],"names":["VcBaseMaterialProperty","getCesiumColor","getCesiumValue"],"mappings":"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"}